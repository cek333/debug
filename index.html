<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debugging</title>
</head>
<body>
  <p>Hello World</p>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
  <script>
    // Goodreads test
    var rDbg;
    // Book Results Function (Goodreads)
    function displayBooks( subject ) {
      let bookURL = `https://www.goodreads.com/search/index.xml?q=${subject}&key=t4IevAd68BKH09EjfX3SGw`;
      $.ajax({
        url: bookURL,
        method: "GET"
      }).then(function(response) {
        rDbg = response;
        console.log(rDbg);
        /*    
        $('#book-rr').text("");
        let newBookDiv;
        for (let idx=0; idx < response.works.length; idx++) {
          // Book title
          let title = response.works[idx].title;
          // Book authors
          let authors;
          if (response.works[idx].authors.length > 0) {
            authors = response.works[idx].authors[0].name;
            // Add additional authors if any
            for (let jdx=1; jdx < response.works[idx].authors.length; jdx++) {
              authors += ` & ${response.works[idx].authors[jdx].name}`;
            }
          }
          // Book image
          let olid = response.works[idx].cover_edition_key;
          if (olid == null) {
            console.log(`[displayBooks] No book image for ${title}. Skipping ...`);
          } else {
            let bookUrl = `https://openlibrary.org/books/${olid}`;
            let imgUrl = `https://covers.openlibrary.org/b/olid/${olid}-M.jpg`;
            // Add to html. 
            $('#book-rr').append(`
            <div id="book-rr">
              <h5 class="bookTitle text-wrap">${title}</h5>
              <p class="authorName text-wrap">${authors}</p>
              <a href="${bookUrl}" target="_blank"><img src="${imgUrl}" class="img-thumbnail" alt="Book Image"></a></div>`); 
            } 
          }
        */
      });
    }

    displayBooks("javascript");
  </script>
</body>
</html>